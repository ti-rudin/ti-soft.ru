<template>
  <div class="max-w-6xl mx-auto p-6 bg-gray-50 dark:bg-gray-900 min-h-screen text-gray-700 dark:text-gray-300">
    <!-- Hero Section -->
    <section class="mb-16 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900 dark:text-white animate-fade-in-down">
        {{ translations.title[currentLanguage] }}
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
        {{ translations.subtitle[currentLanguage] }}
      </p>
    </section>

    <!-- Products Section -->
    <section class="mb-16">
      <h2 class="text-2xl font-semibold mb-8 text-center text-gray-900 dark:text-white">
        {{ translations.productsTitle[currentLanguage] }}
      </h2>
      
      <div class="grid gap-8">
        <!-- Product 0 -->
        <router-link to="/auto-service-ai"
          class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 animate-fade-in-up"
          style="animation-delay: 50ms">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 h-48 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 dark:text-gray-500">
              <span class="text-5xl">üõ†Ô∏è</span>
            </div>
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">{{ translations.product0Title[currentLanguage] }}</h3>
              <p class="text-lg mb-4">{{ translations.product0Desc[currentLanguage] }}</p>
              <ul class="mb-4 space-y-2">
                <li v-for="(feature, idx) in translations.product0Features[currentLanguage]" :key="'p0f'+idx"
                    class="flex items-start">
                  <svg class="flex-shrink-0 w-5 h-5 mt-0.5 mr-2 text-indigo-600 dark:text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414L9 14.414 5.293 10.707a1 1 0 011.414-1.414L9 11.586l6.293-6.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
              <p class="italic text-indigo-600 dark:text-indigo-400">{{ translations.product0IdealFor[currentLanguage] }}</p>
            </div>
          </div>
        </router-link>

        <!-- Product 1 -->
        <router-link to="/case-binance-tsl"
          class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 animate-fade-in-up"
          style="animation-delay: 150ms">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 h-48 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 dark:text-gray-500">
              <span class="text-5xl">ü§ñ</span>
            </div>
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">{{ translations.product1Title[currentLanguage] }}</h3>
              <p class="text-lg mb-4">{{ translations.product1Desc[currentLanguage] }}</p>
              <ul class="mb-4 space-y-2">
                <li v-for="(feature, idx) in translations.product1Features[currentLanguage]" :key="'p1f'+idx" 
                    class="flex items-start">
                  <svg class="flex-shrink-0 w-5 h-5 mt-0.5 mr-2 text-indigo-600 dark:text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414L9 14.414 5.293 10.707a1 1 0 011.414-1.414L9 11.586l6.293-6.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
              <p class="italic text-indigo-600 dark:text-indigo-400">{{ translations.product1IdealFor[currentLanguage] }}</p>
            </div>
          </div>
        </router-link>

        <!-- Product 2 -->
        <router-link to="/smart-home"
          class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 animate-fade-in-up"
          style="animation-delay: 250ms">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 h-48 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 dark:text-gray-500">
              <span class="text-5xl">üè†</span>
            </div>
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">{{ translations.product2Title[currentLanguage] }}</h3>
              <p class="text-lg mb-4">{{ translations.product2Desc[currentLanguage] }}</p>
              <ul class="mb-4 space-y-2">
                <li v-for="(feature, idx) in translations.product2Features[currentLanguage]" :key="'p2f'+idx" 
                    class="flex items-start">
                  <svg class="flex-shrink-0 w-5 h-5 mt-0.5 mr-2 text-indigo-600 dark:text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414L9 14.414 5.293 10.707a1 1 0 011.414-1.414L9 11.586l6.293-6.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
              <p class="italic text-indigo-600 dark:text-indigo-400">{{ translations.product2Call[currentLanguage] }}</p>
            </div>
          </div>
        </router-link>

        <!-- Product 3 -->
        <router-link to="/event-soft"
          class="bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg hover:shadow-xl transition-all hover:-translate-y-1 animate-fade-in-up"
          style="animation-delay: 350ms">
          <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/3 h-48 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center text-gray-400 dark:text-gray-500">
              <span class="text-5xl">üé§</span>
            </div>
            <div class="md:w-2/3">
              <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">{{ translations.product3Title[currentLanguage] }}</h3>
              <p class="text-lg mb-4">{{ translations.product3Desc[currentLanguage] }}</p>
              <ul class="mb-4 space-y-2">
                <li v-for="(feature, idx) in translations.product3Features[currentLanguage]" :key="'p3f'+idx" 
                    class="flex items-start">
                  <svg class="flex-shrink-0 w-5 h-5 mt-0.5 mr-2 text-indigo-600 dark:text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414L9 14.414 5.293 10.707a1 1 0 011.414-1.414L9 11.586l6.293-6.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
              <p class="italic text-indigo-600 dark:text-indigo-400">{{ translations.product3Call[currentLanguage] }}</p>
            </div>
          </div>
        </router-link>
      </div>
    </section>

    <!-- Open Source Philosophy Section -->
    <section class="mb-16 bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-semibold mb-4 text-indigo-600 dark:text-indigo-400">
          {{ translations.openSourceTitle[currentLanguage] }}
        </h2>
        <p class="text-lg mb-4">
          {{ translations.openSourceText1[currentLanguage] }}
        </p>
        <p class="text-lg mb-6">
          {{ translations.openSourceText2[currentLanguage] }}
        </p>
        <div class="flex justify-center">
          <a href="https://github.com/your-repo" target="_blank" 
             class="inline-flex items-center px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-700 transition-colors">
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
            </svg>
            {{ translations.viewCode[currentLanguage] }}
          </a>
        </div>
      </div>
    </section>

    <!-- Why Choose Us Section -->
    <section class="mb-16 bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-8 shadow-lg">
      <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-white">
        {{ translations.whyChooseUsTitle[currentLanguage] }}
      </h2>
      <div class="grid md:grid-cols-3 gap-6">
        <div v-for="(point, idx) in translations.whyChooseUsPoints[currentLanguage]" :key="'why'+idx"
             class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow">
          <div class="w-12 h-12 mb-4 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300">
            <span class="text-xl">{{ ['üíé', 'üõ†Ô∏è', 'üõ°Ô∏è'][idx] }}</span>
          </div>
          <p class="text-gray-700 dark:text-gray-300">{{ point }}</p>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="text-center bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg">
      <h2 class="text-2xl font-semibold mb-2 text-gray-900 dark:text-white">
        {{ translations.contactCall[currentLanguage] }}
      </h2>
      <p class="text-lg mb-6 text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
        {{ translations.contactPrompt[currentLanguage] }}
      </p>
      <button 
        @click="openModal"
        class="inline-flex items-center px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 dark:focus:ring-indigo-900 transition-colors animate-pulse">
        {{ translations.cta[currentLanguage] }}
        <svg class="w-5 h-5 ml-2 -mr-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M10.293 15.707a1 1 0 010-1.414L13.586 11H4a1 1 0 110-2h9.586l-3.293-3.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z" clip-rule="evenodd"></path>
        </svg>
      </button>
    </section>

    <!-- Modal -->
    <transition name="modal-fade">
      <div v-if="formModal" @click.self="closeModal"
        class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-70 p-4 backdrop-blur-sm">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md transform transition-all duration-300 ease-out"
             :class="formModal ? 'animate-fade-in-up' : ''">
          <div class="p-8">
            <div class="flex justify-between items-center mb-6">
              <h3 class="text-2xl font-semibold text-gray-900 dark:text-white">
                {{ translations.formTitle[currentLanguage] }}
              </h3>
              <button @click="closeModal" aria-label="Close" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
              </button>
            </div>
            
            <p class="text-gray-600 dark:text-gray-400 mb-6">
              {{ currentLanguage === 'ru' 
                ? '–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏.' 
                : 'Leave your contact details and task description, and we will contact you for consultation.' }}
            </p>
            
            <form class="space-y-6" @submit.prevent="submitForm">
              <div>
                <label for="modal-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                  {{ translations.nameLabel[currentLanguage] }}
                </label>
                <input type="text" id="modal-name" v-model="formData.name" 
                  :placeholder="translations.namePlaceholder[currentLanguage]"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors">
              </div>
              
              <div>
                <label for="modal-contact" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                  {{ translations.contactLabel[currentLanguage] }} <span class="text-red-500">*</span>
                </label>
                <input type="text" id="modal-contact" v-model="formData.contact" required
                  :placeholder="translations.contactPlaceholder[currentLanguage]"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 transition-colors">
              </div>
              
              <div>
                <label for="modal-description" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                  {{ translations.descriptionLabel[currentLanguage] }} <span class="text-red-500">*</span>
                </label>
                <textarea id="modal-description" v-model="formData.description" required rows="4"
                  :placeholder="translations.descriptionPlaceholder[currentLanguage]"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 resize-y transition-colors"></textarea>
              </div>
              
              <div class="h-6 text-sm text-center">
                <p v-if="formStatus.loading" class="text-indigo-600 dark:text-indigo-400 animate-pulse">
                  {{ translations.sending[currentLanguage] }}
                </p>
                <p v-if="formStatus.error" class="text-red-600 dark:text-red-400">{{ formStatus.error }}</p>
                <p v-if="formStatus.success" class="text-green-600 dark:text-green-400">{{ formStatus.success }}</p>
              </div>
              
              <button type="submit" :disabled="formStatus.loading || formStatus.success"
                class="w-full bg-indigo-600 text-white rounded-lg px-6 py-3 font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">
                {{ formStatus.loading 
                  ? translations.sending[currentLanguage] 
                  : (formStatus.success 
                    ? translations.sent[currentLanguage] 
                    : translations.submit[currentLanguage]) }}
              </button>
            </form>
          </div>
        </div>
      </div>
    </transition>
  </div>
</template>

<script>
import { ref, reactive } from 'vue';
import { currentLanguage } from '../stores/language';

export default {
  name: 'ProductsPage',
  setup() {
    const translations = {
      title: {
        ru: '–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –ò–¢-—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –∏ –∂–∏–∑–Ω–∏',
        en: 'Innovative IT Solutions for Business and Life',
      },
      subtitle: {
        ru: '–°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–¥–æ–≤–æ–µ –ü–û –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤, —Ç–æ—Ä–≥–æ–≤–ª–∏, —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π. –ú—ã —Å–æ–∑–¥–∞–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –∂–∏–∑–Ω—å –ø—Ä–æ—â–µ, –∞ –±–∏–∑–Ω–µ—Å ‚Äì —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ.',
        en: 'Develop advanced software for trade automation, smart homes, and event management. We create technologies that make life easier and business more efficient.',
      },
      productsTitle: {
        ru: '–ù–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã',
        en: 'Our Products',
      },
      product0Title: {
        ru: '–°–∞–º—É—Ä–∞–π - –†–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–º',
        en: 'Samurai - Revolutionary Auto Service Management System',
      },
      product0Desc: {
        ru: '–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º headless CMS Strapi, Vue.js –∏ Node-RED. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑-–Ω–∞—Ä—è–¥–æ–≤ —Å YandexGPT.',
        en: 'Comprehensive digital platform for auto services using headless CMS Strapi, Vue.js and Node-RED. Intelligent order creation with YandexGPT.',
      },
      product0Features: {
        ru: [
          '–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑-–Ω–∞—Ä—è–¥–æ–≤ —Å –ò–ò YandexGPT',
          '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤',
          '–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞',
          '–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–ª–∏–µ–Ω—Ç–∞–º–∏',
          '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–µ–∫–æ–º',
        ],
        en: [
          'Intelligent order creation with YandexGPT AI',
          'Maximum efficiency and process automation',
          'Financial transparency and analytics',
          'Full customer control',
          'Technical superiority with modern stack',
        ],
      },
      product0IdealFor: {
        ru: '–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤, –∂–µ–ª–∞—é—â–∏—Ö –≤—ã–≤–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–¥–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π',
        en: 'Ideal for auto services looking to take their business to the next level with advanced technologies',
      },
      product1Title: {
        ru: 'TSL Bot ‚Äì –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è —Å Trailing Stop Loss',
        en: 'TSL Bot ‚Äì Automated Trading with Trailing Stop Loss',
      },
      product1Desc: {
        ru: 'TSL Bot ‚Äì —ç—Ç–æ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.',
        en: 'TSL Bot is a powerful system for automatic stop-loss management supporting multiple instruments.',
      },
      product1Features: {
        ru: [
          'Trailing Stop Loss ‚Äì –¥–∏–Ω–∞–º–∏—á–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–±—ã–ª–∏',
          '–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äì –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å',
          '–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äì –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –ª—é–±—ã–µ –æ–±—ä–µ–º—ã —Ç–æ—Ä–≥–æ–≤',
          '–ú—É–ª—å—Ç–∏–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äì –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏',
        ],
        en: [
          'Trailing Stop Loss ‚Äì dynamic trade tracking to maximize profits',
          'Asynchronous architecture ‚Äì high performance and reliability',
          'Horizontal scaling ‚Äì easily adapts to any trading volume',
          'Multi-instrument support ‚Äì simultaneous operation with different assets',
        ],
      },
      product1IdealFor: {
        ru: '–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ç—Ä–µ–π–¥–µ—Ä–æ–≤ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–æ–Ω–¥–æ–≤, —Ü–µ–Ω—è—â–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å',
        en: 'Ideal for traders and investment funds valuing speed and precision',
      },
      product2Title: {
        ru: '–£–º–Ω—ã–π –¥–æ–º –Ω–∞ –±–∞–∑–µ WirenBoard',
        en: 'Smart Home based on WirenBoard',
      },
      product2Desc: {
        ru: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∂–∏–ª—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø–æ–º–µ—â–µ–Ω–∏–π',
        en: 'A modern solution for automating residential and commercial premises',
      },
      product2Features: {
        ru: [
          '–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º, –æ—Ç–æ–ø–ª–µ–Ω–∏–µ–º, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞',
          '–£–¥–æ–±—Å—Ç–≤–æ ‚Äì –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–±–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –ø–æ–º–æ—â–Ω–∏–∫–∞–º–∏',
          '–≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äì —É–º–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤',
        ],
        en: [
          'Full control ‚Äì manage lighting, heating, security, and multimedia',
          'Convenience ‚Äì integration with mobile apps and voice assistants',
          'Energy efficiency ‚Äì smart scenarios for resource saving',
        ],
      },
      product2Call: {
        ru: '–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ —Å–≤–æ–π –¥–æ–º –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–æ–º—Ñ–æ—Ä—Ç-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ',
        en: 'Turn your home into a technological and safe comfort space',
      },
      product3Title: {
        ru: '–ö–æ–Ω—Ü–µ—Ä—Ç–Ω—ã–π —Å–æ—Ñ—Ç ‚Äì –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è',
        en: 'Concert Software ‚Äì Next-level Event Management',
      },
      product3Desc: {
        ru: '–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–Ω—Ü–µ—Ä—Ç–æ–≤, —Ñ–µ—Å—Ç–∏–≤–∞–ª–µ–π –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π',
        en: 'A comprehensive system for concerts, festivals, and corporate events',
      },
      product3Features: {
        ru: [
          '–¢—Ä–∏ –∫–∞–±–∏–Ω–µ—Ç–∞ ‚Äì –¥–ª—è –∑—Ä–∏—Ç–µ–ª–µ–π, –∞—Ä—Ç–∏—Å—Ç–æ–≤ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–≤',
          '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK ‚Äì –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ —Å —Ç–µ–≥–∞–º–∏',
          '–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ç—Ä–µ–∫–∞ ‚Äì –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏, —Ç–µ–∫—Å—Ç, –ª–∞–π–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏',
          '–†–µ–π—Ç–∏–Ω–≥ –∞—Ä—Ç–∏—Å—Ç–æ–≤ ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –ª–∞–π–∫–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤',
        ],
        en: [
          'Three dashboards ‚Äì for viewers, artists, and organizers',
          'VK integration ‚Äì authorization and automatic photo gallery with tags',
          'Current track broadcast ‚Äì song title, lyrics, likes in real time',
          'Artist rating ‚Äì automatic like counting and leaderboard generation',
        ],
      },
      product3Call: {
        ru: '–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è —Å –Ω–∞—à–∏–º —Ü–∏—Ñ—Ä–æ–≤—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º',
        en: 'Create unforgettable events with our digital assistant',
      },
      openSourceTitle: {
        ru: 'Open Source —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è',
        en: 'Open Source Philosophy',
      },
      openSourceText1: {
        ru: '–í–µ—Å—å –Ω–∞—à –∫–æ–¥ –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Open Source ‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –æ–Ω –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ—Ç–∫—Ä—ã—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–≤–∏—Ç–∏—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.',
        en: 'All our code is published under Open Source principles ‚Äî this means it\'s completely open and available for free use. We believe that openness promotes technological and community development.',
      },
      openSourceText2: {
        ru: '–ü—Ä–∏ —ç—Ç–æ–º –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–ª–∞—Ç–Ω—ã–µ —É—Å–ª—É–≥–∏ –ø–æ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é —Ä–µ—à–µ–Ω–∏–π –∏ –∏—Ö –¥–∞–ª—å–Ω–µ–π—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ. –¢–∞–∫ –º—ã –º–æ–∂–µ–º —É–¥–µ–ª—è—Ç—å –º–∞–∫—Å–∏–º—É–º –≤–Ω–∏–º–∞–Ω–∏—è –∫–∞–∂–¥–æ–º—É –ø—Ä–æ–µ–∫—Ç—É.',
        en: 'At the same time, we offer paid services for code customization to your needs, professional solution deployment and further support. This allows us to give maximum attention to each project.',
      },
      viewCode: {
        ru: '–°–º–æ—Ç—Ä–µ—Ç—å –∫–æ–¥ –Ω–∞ GitHub',
        en: 'View code on GitHub',
      },
      whyChooseUsTitle: {
        ru: '–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å?',
        en: 'Why Choose Us?',
      },
      whyChooseUsPoints: {
        ru: [
          '–û–ø—ã—Ç –∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ ‚Äì —Ä–∞–±–æ—Ç–∞–µ–º —Å –ø–µ—Ä–µ–¥–æ–≤—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏',
          '–ì–∏–±–∫–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏–π ‚Äì –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏',
          '–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å ‚Äì —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–∞–∂–µ –ø—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö',
        ],
        en: [
          'Experience and expertise ‚Äì working with cutting-edge technologies',
          'Solution flexibility ‚Äì adapting products to your needs',
          'Reliability ‚Äì stable operation even under high loads',
        ],
      },
      contactCall: {
        ru: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –±—É–¥—É—â–µ–≥–æ —É–∂–µ —Å–µ–≥–æ–¥–Ω—è!',
        en: 'The technology of the future today!',
      },
      contactPrompt: {
        ru: '–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ ‚Äì –æ–±—Å—É–¥–∏–º –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–º –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ',
        en: 'Contact us ‚Äì let\'s discuss your project and offer the best solution',
      },
      cta: {
        ru: '–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É',
        en: 'Request a consultation',
      },
      formTitle: {
        ru: '–ó–∞—è–≤–∫–∞ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é',
        en: 'Consultation Request'
      },
      nameLabel: {
        ru: '–í–∞—à–µ –∏–º—è',
        en: 'Your Name'
      },
      namePlaceholder: {
        ru: '–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)',
        en: 'How should we address you? (optional)'
      },
      contactLabel: {
        ru: '–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ',
        en: 'Contact Details'
      },
      contactPlaceholder: {
        ru: '–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ email (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)',
        en: 'Phone or email (required)'
      },
      descriptionLabel: {
        ru: '–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –∑–∞–¥–∞—á—É',
        en: 'Describe your task'
      },
      descriptionPlaceholder: {
        ru: '–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å',
        en: 'Tell us what you want to automate'
      },
      sending: {
        ru: '–û—Ç–ø—Ä–∞–≤–∫–∞...',
        en: 'Sending...'
      },
      sent: {
        ru: '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!',
        en: 'Sent!'
      },
      submit: {
        ru: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É',
        en: 'Submit Request'
      },
      errorRequired: {
        ru: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏',
        en: 'Please provide contact details and task description'
      },
      errorSend: {
        ru: '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º',
        en: 'Sending error. Please try again or contact us by other means'
      },
      errorNetwork: {
        ru: '–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞',
        en: 'Network error. Check your connection and try again'
      },
      successMessage: {
        ru: '–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –í–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è',
        en: 'Thank you! We will contact you shortly'
      }
    };

    const formModal = ref(false);
    const formData = reactive({
      name: '',
      contact: '',
      description: ''
    });
    const formStatus = reactive({
      loading: false,
      error: null,
      success: null,
    });

    const openModal = () => {
      formData.name = '';
      formData.contact = '';
      formData.description = '';
      formStatus.loading = false;
      formStatus.error = null;
      formStatus.success = null;
      formModal.value = true;
    };

    const closeModal = () => {
      formModal.value = false;
    };

    const submitForm = async () => {
      formStatus.loading = true;
      formStatus.error = null;
      formStatus.success = null;

      if (!formData.contact || !formData.contact.trim() || !formData.description || !formData.description.trim()) {
        formStatus.error = translations.errorRequired[currentLanguage];
        formStatus.loading = false;
        return;
      }

      const params = new URLSearchParams({
        name: formData.name.trim(),
        tel: formData.contact.trim(),
        description: formData.description.trim()
      });

      try {
        const res = await fetch(
          `https://ti-robots.netlify.app/zayavka/?${params.toString()}`,
          {
            method: "GET",
            headers: { Accept: "application/json" },
          }
        );

        if (res.ok) {
          formStatus.success = translations.successMessage[currentLanguage];
          formData.name = '';
          formData.contact = '';
          formData.description = '';
          setTimeout(() => {
            if (formStatus.success) {
              closeModal();
            }
          }, 3000);
        } else {
          const errorText = await res.text();
          console.error("Form submission error:", res.status, errorText);
          formStatus.error = `${translations.errorSend[currentLanguage]} (${res.status})`;
        }
      } catch (error) {
        console.error("Network error during form submission:", error);
        formStatus.error = translations.errorNetwork[currentLanguage];
      } finally {
        formStatus.loading = false;
      }
    };

    return {
      currentLanguage,
      translations,
      formModal,
      formData,
      formStatus,
      openModal,
      closeModal,
      submitForm
    };
  }
}
</script>

<style>
.animate-fade-in-down {
  animation: fadeInDown 0.6s ease-out;
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.modal-fade-enter-active,
.modal-fade-leave-active {
  transition: opacity 0.3s ease;
}
.modal-fade-enter-from,
.modal-fade-leave-to {
  opacity: 0;
}

.animate-pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}
</style>
